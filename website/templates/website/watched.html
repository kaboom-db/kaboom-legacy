{% load static %}

{% if exists %}
<svg id="poster_watched" width="720" height="460" viewBox="0 0 720 460" xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
        <style>
            text,
            tspan {
                font-family: 'Montserrat', sans-serif;
                fill: rgb(50, 50, 50);
            }

            tspan {
                fill: rgb(75, 75, 75);
                font-size: 80%;
            }
        </style>
        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:rgb(255,95,109);stop-opacity:1" />
            <stop offset="100%" style="stop-color:rgba(255,195,113,1);stop-opacity:1" />
          </linearGradient>
    </defs>

    <g id="image">
        <rect x="0" y="0" width="100%" height="88%" fill="#000" />
        <image x="0" y="0" width="100%" xlink:href="{{ last_watched_image }}" />
    </g>

    <g id="text">
        <rect x="0" y="88%" width="100%" height="12%" fill="url(#grad1)" />

        <image y="88%" width="8%" xlink:href="{% static 'images/logo.svg' %}" />

        <text x="10%" y="92.8%" fill="#000" font-size="14" dominant-baseline="bottom" text-anchor="left">
            {{ username }} last watched
        </text>
        <text x="10%" y="97.5%" fill="#000" font-size="22" dominant-baseline="bottom" text-anchor="left">
            {{ last_watched_title }}
            <tspan dx="7">
                {{ episode_nr }}
            </tspan>
        </text>
    </g>

</svg>
{% else %}
<p>User does not exist.</p>
{% endif %}